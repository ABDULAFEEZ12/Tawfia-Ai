<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Tawfiq AI - Smart Islamic Companion</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    transition: background 0.3s, color 0.3s;
    font-size: 16px;
  }
  header {
    text-align: center;
    padding: 20px;
    width: 100%;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    position: relative;
    z-index: 1;
  }
  header h1 {
    margin: 0;
    font-size: 28px;
    letter-spacing: 1px;
  }
  header h3 {
    margin: 5px 0 0;
    font-weight: normal;
    font-size: 16px;
    opacity: 0.8;
  }
  .tabs {
    display: flex;
    justify-content: center;
    margin: 20px 0;
    width: 100%;
    background: rgba(0,0,0,0.05);
    border-radius: 30px;
    overflow: hidden;
    max-width: 600px;
  }
  .tab {
    flex: 1;
    text-align: center;
    padding: 15px;
    cursor: pointer;
    transition: background 0.3s, color 0.3s;
    font-size: 16px;
  }
  .tab:hover {
    background: rgba(0,0,0,0.1);
  }
  .tab.active {
    background: #009688;
    font-weight: bold;
    color: #fff;
  }
  .section {
    display: none;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: 700px;
    padding: 20px;
    background: rgba(0,0,0,0.05);
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    overflow-y: auto;
    height: 65vh;
    animation: fadeIn 0.5s ease forwards;
    box-sizing: border-box;
  }
  .section.active {
    display: flex;
  }
  input[type="text"], select {
    width: 80%;
    padding: 12px;
    margin: 15px 0;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-size: 16px;
    outline: none;
    box-sizing: border-box;
    background-color: inherit;
    color: inherit;
  }
  button {
    padding: 12px 25px;
    border: none;
    background: #009688;
    color: #fff;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    margin-top: 10px;
    transition: background 0.3s;
  }
  button:hover {
    background: #00796b;
  }
  button:disabled {
    background: #ccc;
    cursor: not-allowed;
  }
  .messages, .results {
    margin-top: 20px;
    width: 100%;
    max-height: calc(65vh - 150px);
    overflow-y: auto;
    text-align: left;
  }
  .messages p,
  .results div {
    background: rgba(0, 0, 0, 0.05);
    padding: 12px;
    border-radius: 8px;
    margin: 10px 0;
    word-wrap: break-word;
    font-size: 1em;
  }
  .user-message {
    background: rgba(0, 150, 136, 0.2);
  }
  /* Quran result styling */
  .quran-verse {
    border: 1px solid #eee;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 10px;
    background: rgba(0, 150, 136, 0.05);
  }
  .quran-verse p {
    margin: 5px 0;
    padding: 0;
    background: none;
  }
  .quran-verse p:first-child {
    font-weight: bold;
    color: #00796b;
    font-size: 1em;
  }
  .quran-verse p:nth-child(2) {
    font-size: 1em;
  }
  .quran-verse p:nth-child(3) {
    font-size: 1.2em;
    direction: rtl;
    text-align: right;
    font-weight: normal;
    margin-top: 5px;
  }
  /* Hadith entry styling */
  .hadith-entry {
    border: 1px solid #eee;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 10px;
    background: rgba(255, 193, 7, 0.05);
  }
  .hadith-entry p {
    margin: 5px 0;
    padding: 0;
    background: none;
  }
  .hadith-entry p:first-child {
    font-size: 0.9em;
    color: #ffa000;
  }
  /* Toggle button styles */
  .toggle-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    padding: 6px 12px;
    font-size: 13px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background-color: #4CAF50;
    color: white;
    transition: background-color 0.3s;
    z-index: 10;
  }
  .toggle-btn:hover {
    background-color: #45a049;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  body.light-mode {
    background: linear-gradient(135deg, #e0f7fa, #b2ebf2, #80deea);
    color: #000;
  }
  body.light-mode .tabs {
    background: rgba(255,255,255,0.7);
  }
  body.light-mode .section {
    background: rgba(255,255,255,0.9);
  }
  body.light-mode .messages p,
  body.light-mode .results div {
    background: rgba(0, 0, 0, 0.05);
  }
  body.light-mode input[type="text"], body.light-mode select {
    border-color: #ccc;
  }
  body.light-mode .quran-verse {
    background: rgba(0, 150, 136, 0.05);
    border-color: #eee;
  }
  body.light-mode .hadith-entry {
    background: rgba(255, 193, 7, 0.05);
    border-color: #eee;
  }
  /* Dark mode styles omitted for brevity, same as your original */
  /* Responsive adjustments omitted for brevity */
</style>
</head>
<body class="light-mode">

<button class="toggle-btn" onclick="toggleMode()">Toggle Mode</button>

<header>
<h1>ðŸŒ™ Tawfiq AI - Smart Islamic Companion ðŸŒ™</h1>
<h3>âœ¨ Ask me anything about Islam âœ¨</h3>
</header>

<div class="tabs">
  <div class="tab active" data-target="aiSection" onclick="switchTab(event)">ðŸ¤– AI</div>
  <div class="tab" data-target="quranSection" onclick="switchTab(event)">ðŸ“– Quran</div>
  <div class="tab" data-target="hadithSection" onclick="switchTab(event)">ðŸ“œ Hadith</div>
</div>

<!-- Sections -->
<div class="section active" id="aiSection">
  <input type="text" id="userInput" placeholder="Ask a question about Islam..."/>
  <button id="askButton" onclick="sendQuestion()">Ask</button>
  <div class="messages" id="messages"></div>
</div>

<div class="section" id="quranSection">
  <input type="text" id="quranInput" placeholder="Enter Surah name or keyword..."/>
  <select id="surahList">
    <option value="">-- Or Select Surah --</option>
  </select>
  <button id="quranSearchButton" onclick="searchQuran()">Search Surah</button>
  <div class="results" id="quranResult"></div>
</div>

<div class="section" id="hadithSection">
  <input type="text" id="hadithInput" placeholder="Enter Hadith keyword or number..."/>
  <select id="hadithDropdown">
    <option value="">-- Or Select Hadith Topic --</option>
  </select>
  <button id="hadithSearchButton" onclick="searchHadith()">Search Hadith</button>
  <div class="results" id="hadithResult"></div>
</div>

<!-- Dua Section -->
<div class="section" id="duaSection">
  <h3>Today's Dua</h3>
  <div id="duaText">Loading Dua...</div>
  <!-- Daily Dua Box -->
  <div id="dailyDuaSection">
    <h2>ðŸ•Œ Daily Dua ðŸ“¿</h2>
    <div id="dailyDuaContent" style="font-size: 1.2em; padding: 10px; text-align: center;">Loading the Dua of the Day...</div>
  </div>
</div>

<!-- Motivation Section -->
<div class="section" id="motivationSection">
  <h3>Daily Motivation</h3>
  <div id="motivationText">Loading Motivation...</div>
</div>

<script>
  // Tab switching logic
  function switchTab(event) {
    const targetId = event.currentTarget.getAttribute('data-target');
    document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
    document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));

    document.getElementById(targetId).classList.add('active');
    event.currentTarget.classList.add('active');

    // Clear previous results if needed
    if (targetId === 'quranSection') {
      document.getElementById('quranResult').innerHTML = '';
    } else if (targetId === 'hadithSection') {
      document.getElementById('hadithResult').innerHTML = '';
    } else if (targetId === 'aiSection') {
      document.getElementById('messages').innerHTML = '';
    }
  }

  function toggleMode() {
    document.body.classList.toggle('light-mode');
    document.body.classList.toggle('dark-mode');
    const toggleBtn = document.querySelector('.toggle-btn');
    if (document.body.classList.contains('dark-mode')) {
      toggleBtn.textContent = 'Toggle Light Mode';
    } else {
      toggleBtn.textContent = 'Toggle Dark Mode';
    }
  }

  // Your existing functions like sendQuestion, searchQuran, searchHadith, loadSurahList, loadHadithTopics, loadDailyDuaFromJSON go here
  // For brevity, they are assumed unchanged and included below

  // Example: loadSurahList, loadHadithTopics, loadDailyDuaFromJSON, sendQuestion, searchQuran, searchHadith, etc.
  // Make sure all your functions are included as in your original code

  // Initialize on DOMContentLoaded
  document.addEventListener("DOMContentLoaded", () => {
    loadHadithTopics();
    loadSurahList();
    loadDailyDuaFromJSON();
  });
</script>

</body>
</html>
